<!DOCTYPE html>
<html lang="es" xml:lang="es">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.3 Benchmarking | Estimación de áreas pequeñas con el modelo multinomial</title>
  <meta name="description" content="Documentos con la descripción del proceso de compilación en R." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="5.3 Benchmarking | Estimación de áreas pequeñas con el modelo multinomial" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Documentos con la descripción del proceso de compilación en R." />
  <meta name="github-repo" content="psirusteam/HHS-Handbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.3 Benchmarking | Estimación de áreas pequeñas con el modelo multinomial" />
  
  <meta name="twitter:description" content="Documentos con la descripción del proceso de compilación en R." />
  

<meta name="author" content="Andrés Gutiérrez, Stalyn Guerrero, Carolina Franco, Charlotte Taglioni" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lectura-de-las-bases-de-datos.html"/>
<link rel="next" href="validación-visual-del-benchmark.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Estimación de áreas pequeñas con el modelo multinomial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="1" data-path="estimación-directa-para-las-comunas-de-chile..html"><a href="estimación-directa-para-las-comunas-de-chile..html"><i class="fa fa-check"></i><b>1</b> Estimación directa para las comunas de Chile.</a>
<ul>
<li class="chapter" data-level="1.1" data-path="lectura-de-la-encuesta..html"><a href="lectura-de-la-encuesta..html"><i class="fa fa-check"></i><b>1.1</b> Lectura de la encuesta.</a></li>
<li class="chapter" data-level="1.2" data-path="definición-del-diseño-muestral.html"><a href="definición-del-diseño-muestral.html"><i class="fa fa-check"></i><b>1.2</b> Definición del diseño muestral</a></li>
<li class="chapter" data-level="1.3" data-path="estimación-directa-del-indicador.html"><a href="estimación-directa-del-indicador.html"><i class="fa fa-check"></i><b>1.3</b> Estimación directa del indicador</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="análisis-descriptivo-de-las-estimaciones-directas..html"><a href="análisis-descriptivo-de-las-estimaciones-directas..html"><i class="fa fa-check"></i><b>2</b> Análisis descriptivo de las estimaciones directas.</a>
<ul>
<li class="chapter" data-level="2.1" data-path="lectura-de-librerías.html"><a href="lectura-de-librerías.html"><i class="fa fa-check"></i><b>2.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="2.2" data-path="definiendo-algunas-funciones..html"><a href="definiendo-algunas-funciones..html"><i class="fa fa-check"></i><b>2.2</b> Definiendo algunas funciones.</a></li>
<li class="chapter" data-level="2.3" data-path="lectura-de-las-estimaciones-directas.html"><a href="lectura-de-las-estimaciones-directas.html"><i class="fa fa-check"></i><b>2.3</b> Lectura de las estimaciones directas</a></li>
<li class="chapter" data-level="2.4" data-path="descriptivo-de-las-estimaciones-directas.html"><a href="descriptivo-de-las-estimaciones-directas.html"><i class="fa fa-check"></i><b>2.4</b> Descriptivo de las estimaciones directas</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="descriptivo-de-las-estimaciones-directas.html"><a href="descriptivo-de-las-estimaciones-directas.html#conteo-de-los-dominios-con-deff-no-estimados"><i class="fa fa-check"></i><b>2.4.1</b> Conteo de los dominios con deff no estimados</a></li>
<li class="chapter" data-level="2.4.2" data-path="descriptivo-de-las-estimaciones-directas.html"><a href="descriptivo-de-las-estimaciones-directas.html#conteo-de-los-dominios-con-deff-mayores-que-1"><i class="fa fa-check"></i><b>2.4.2</b> Conteo de los dominios con deff mayores que 1</a></li>
<li class="chapter" data-level="2.4.3" data-path="descriptivo-de-las-estimaciones-directas.html"><a href="descriptivo-de-las-estimaciones-directas.html#porcentaje-de-dominios-con-estimación-de-la-varianza-mayor-a-0"><i class="fa fa-check"></i><b>2.4.3</b> Porcentaje de dominios con estimación de la varianza mayor a 0</a></li>
<li class="chapter" data-level="2.4.4" data-path="descriptivo-de-las-estimaciones-directas.html"><a href="descriptivo-de-las-estimaciones-directas.html#conteo-de-dominios-con-dos-o-más-upm-y-deff-mayor-1-simultáneamente."><i class="fa fa-check"></i><b>2.4.4</b> Conteo de dominios con dos o más upm y deff mayor 1 simultáneamente.</a></li>
<li class="chapter" data-level="2.4.5" data-path="descriptivo-de-las-estimaciones-directas.html"><a href="descriptivo-de-las-estimaciones-directas.html#selección-de-los-dominios-que-empleamos-en-el-modelo-de-área."><i class="fa fa-check"></i><b>2.4.5</b> Selección de los dominios que empleamos en el modelo de área.</a></li>
<li class="chapter" data-level="2.4.6" data-path="descriptivo-de-las-estimaciones-directas.html"><a href="descriptivo-de-las-estimaciones-directas.html#guardar-archivos"><i class="fa fa-check"></i><b>2.4.6</b> Guardar archivos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estimación-del-modelo-de-área-de-respuesta-multinomial.html"><a href="estimación-del-modelo-de-área-de-respuesta-multinomial.html"><i class="fa fa-check"></i><b>3</b> Estimación del modelo de área de respuesta multinomial</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lectura-de-librerías-1.html"><a href="lectura-de-librerías-1.html"><i class="fa fa-check"></i><b>3.1</b> Lectura de librerías</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="lectura-de-librerías-1.html"><a href="lectura-de-librerías-1.html#lectura-de-bases-de-datos"><i class="fa fa-check"></i><b>3.1.1</b> Lectura de bases de datos</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="realizando-ajuste-sobre-el-deff-estimado..html"><a href="realizando-ajuste-sobre-el-deff-estimado..html"><i class="fa fa-check"></i><b>3.2</b> Realizando ajuste sobre el deff estimado.</a></li>
<li class="chapter" data-level="3.3" data-path="definición-del-modelo-multinomial.html"><a href="definición-del-modelo-multinomial.html"><i class="fa fa-check"></i><b>3.3</b> Definición del modelo multinomial</a></li>
<li class="chapter" data-level="3.4" data-path="modelo-programando-en-stan.html"><a href="modelo-programando-en-stan.html"><i class="fa fa-check"></i><b>3.4</b> Modelo programando en <code>STAN</code></a></li>
<li class="chapter" data-level="3.5" data-path="identificando-los-municipios-para-predicción.html"><a href="identificando-los-municipios-para-predicción.html"><i class="fa fa-check"></i><b>3.5</b> Identificando los municipios para predicción</a></li>
<li class="chapter" data-level="3.6" data-path="obteniendo-la-matriz.html"><a href="obteniendo-la-matriz.html"><i class="fa fa-check"></i><b>3.6</b> Obteniendo la matriz</a></li>
<li class="chapter" data-level="3.7" data-path="identificando-los-dominios-para-realizar-estimación-del-modelo.html"><a href="identificando-los-dominios-para-realizar-estimación-del-modelo.html"><i class="fa fa-check"></i><b>3.7</b> Identificando los dominios para realizar estimación del modelo</a></li>
<li class="chapter" data-level="3.8" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html"><i class="fa fa-check"></i><b>3.8</b> Identificando los argumentos para <code>STAN</code></a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#preparando-argumentos-para-stan"><i class="fa fa-check"></i><b>3.8.1</b> Preparando argumentos para <code>STAN</code></a></li>
<li class="chapter" data-level="3.8.2" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#ejecutando-el-modelo-en-stan"><i class="fa fa-check"></i><b>3.8.2</b> Ejecutando el modelo en <code>STAN</code></a></li>
<li class="chapter" data-level="3.8.3" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#valores-estimados-para-beta"><i class="fa fa-check"></i><b>3.8.3</b> Valores estimados para beta</a></li>
<li class="chapter" data-level="3.8.4" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#valores-estimados-para-la-matriz-de-correlación"><i class="fa fa-check"></i><b>3.8.4</b> Valores estimados para la matriz de correlación</a></li>
<li class="chapter" data-level="3.8.5" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#validación-dela-convergencia-de-las-cadenas"><i class="fa fa-check"></i><b>3.8.5</b> Validación dela convergencia de las cadenas</a></li>
<li class="chapter" data-level="3.8.6" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#evaluación-visual-de-las-cadenas-para-beta"><i class="fa fa-check"></i><b>3.8.6</b> Evaluación visual de las cadenas para beta</a></li>
<li class="chapter" data-level="3.8.7" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#extrayendo-las-estimaciones-para-theta"><i class="fa fa-check"></i><b>3.8.7</b> extrayendo las estimaciones para theta</a></li>
<li class="chapter" data-level="3.8.8" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#organizando-los-resultados-en-una-matriz."><i class="fa fa-check"></i><b>3.8.8</b> Organizando los resultados en una matriz.</a></li>
<li class="chapter" data-level="3.8.9" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#preparando-el-gráfico-comparativo-entre-la-estimación-dir-y-el-modelo"><i class="fa fa-check"></i><b>3.8.9</b> Preparando el gráfico comparativo entre la estimación dir y el modelo</a></li>
<li class="chapter" data-level="3.8.10" data-path="identificando-los-argumentos-para-stan.html"><a href="identificando-los-argumentos-para-stan.html#preparando-el-ppc"><i class="fa fa-check"></i><b>3.8.10</b> Preparando el ppc</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="validación-sobre-los-resultados-del-modelo-de-área..html"><a href="validación-sobre-los-resultados-del-modelo-de-área..html"><i class="fa fa-check"></i><b>4</b> Validación sobre los resultados del modelo de área.</a>
<ul>
<li class="chapter" data-level="4.1" data-path="lectura-de-librerías-2.html"><a href="lectura-de-librerías-2.html"><i class="fa fa-check"></i><b>4.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="4.2" data-path="lectura-de-bases-de-datos-1.html"><a href="lectura-de-bases-de-datos-1.html"><i class="fa fa-check"></i><b>4.2</b> Lectura de bases de datos</a></li>
<li class="chapter" data-level="4.3" data-path="estimacion-directa.html"><a href="estimacion-directa.html"><i class="fa fa-check"></i><b>4.3</b> Estimacion directa</a></li>
<li class="chapter" data-level="4.4" data-path="estimación-del-coeficiente-de-variación.html"><a href="estimación-del-coeficiente-de-variación.html"><i class="fa fa-check"></i><b>4.4</b> Estimación del coeficiente de variación</a></li>
<li class="chapter" data-level="4.5" data-path="consolidando-los-resultados-en-una-base-de-datos..html"><a href="consolidando-los-resultados-en-una-base-de-datos..html"><i class="fa fa-check"></i><b>4.5</b> Consolidando los resultados en una base de datos.</a></li>
<li class="chapter" data-level="4.6" data-path="gráfica-comparativa-entre-las-estimación-directa-y-la-estimación-resultante-del-modelo.html"><a href="gráfica-comparativa-entre-las-estimación-directa-y-la-estimación-resultante-del-modelo.html"><i class="fa fa-check"></i><b>4.6</b> Gráfica comparativa entre las estimación directa y la estimación resultante del modelo</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="gráfica-comparativa-entre-las-estimación-directa-y-la-estimación-resultante-del-modelo.html"><a href="gráfica-comparativa-entre-las-estimación-directa-y-la-estimación-resultante-del-modelo.html#estimación-puntual"><i class="fa fa-check"></i><b>4.6.1</b> Estimación puntual</a></li>
<li class="chapter" data-level="4.6.2" data-path="gráfica-comparativa-entre-las-estimación-directa-y-la-estimación-resultante-del-modelo.html"><a href="gráfica-comparativa-entre-las-estimación-directa-y-la-estimación-resultante-del-modelo.html#error-estándar."><i class="fa fa-check"></i><b>4.6.2</b> Error estándar.</a></li>
<li class="chapter" data-level="4.6.3" data-path="gráfica-comparativa-entre-las-estimación-directa-y-la-estimación-resultante-del-modelo.html"><a href="gráfica-comparativa-entre-las-estimación-directa-y-la-estimación-resultante-del-modelo.html#coeficiente-de-varianción."><i class="fa fa-check"></i><b>4.6.3</b> Coeficiente de varianción.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="estimaciones-ajustadas-por-benchmark.html"><a href="estimaciones-ajustadas-por-benchmark.html"><i class="fa fa-check"></i><b>5</b> Estimaciones ajustadas por Benchmark</a>
<ul>
<li class="chapter" data-level="5.1" data-path="lectura-de-librerías-3.html"><a href="lectura-de-librerías-3.html"><i class="fa fa-check"></i><b>5.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="5.2" data-path="lectura-de-las-bases-de-datos.html"><a href="lectura-de-las-bases-de-datos.html"><i class="fa fa-check"></i><b>5.2</b> Lectura de las bases de datos</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="lectura-de-las-bases-de-datos.html"><a href="lectura-de-las-bases-de-datos.html#parametrizando-el-código"><i class="fa fa-check"></i><b>5.2.1</b> Parametrizando el código</a></li>
<li class="chapter" data-level="5.2.2" data-path="lectura-de-las-bases-de-datos.html"><a href="lectura-de-las-bases-de-datos.html#conteos-agregados-por-dam-y-dam2"><i class="fa fa-check"></i><b>5.2.2</b> Conteos agregados por dam y dam2</a></li>
<li class="chapter" data-level="5.2.3" data-path="lectura-de-las-bases-de-datos.html"><a href="lectura-de-las-bases-de-datos.html#tranformando-variables-de-la-encuesta."><i class="fa fa-check"></i><b>5.2.3</b> Tranformando variables de la encuesta.</a></li>
<li class="chapter" data-level="5.2.4" data-path="lectura-de-las-bases-de-datos.html"><a href="lectura-de-las-bases-de-datos.html#creando-el-objeto-diseño"><i class="fa fa-check"></i><b>5.2.4</b> Creando el objeto diseño</a></li>
<li class="chapter" data-level="5.2.5" data-path="lectura-de-las-bases-de-datos.html"><a href="lectura-de-las-bases-de-datos.html#estimado-el-indicador"><i class="fa fa-check"></i><b>5.2.5</b> Estimado el indicador</a></li>
<li class="chapter" data-level="5.2.6" data-path="lectura-de-las-bases-de-datos.html"><a href="lectura-de-las-bases-de-datos.html#organizando-las-estimaciones-directas-agregadas."><i class="fa fa-check"></i><b>5.2.6</b> Organizando las estimaciones directas agregadas.</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="benchmarking.html"><a href="benchmarking.html"><i class="fa fa-check"></i><b>5.3</b> Benchmarking</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="benchmarking.html"><a href="benchmarking.html#seleccionado-variables"><i class="fa fa-check"></i><b>5.3.1</b> Seleccionado variables</a></li>
<li class="chapter" data-level="5.3.2" data-path="benchmarking.html"><a href="benchmarking.html#creando-las-dummys"><i class="fa fa-check"></i><b>5.3.2</b> Creando las dummys</a></li>
<li class="chapter" data-level="5.3.3" data-path="benchmarking.html"><a href="benchmarking.html#obtenideno-los-ponderadores"><i class="fa fa-check"></i><b>5.3.3</b> Obtenideno los ponderadores</a></li>
<li class="chapter" data-level="5.3.4" data-path="benchmarking.html"><a href="benchmarking.html#creando-las-estimaciones-benchmark"><i class="fa fa-check"></i><b>5.3.4</b> Creando las estimaciones Benchmark</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="validación-visual-del-benchmark.html"><a href="validación-visual-del-benchmark.html"><i class="fa fa-check"></i><b>6</b> Validación visual del Benchmark</a>
<ul>
<li class="chapter" data-level="6.1" data-path="lectura-de-librerias.html"><a href="lectura-de-librerias.html"><i class="fa fa-check"></i><b>6.1</b> Lectura de librerias</a></li>
<li class="chapter" data-level="6.2" data-path="lectura-de-encuesta..html"><a href="lectura-de-encuesta..html"><i class="fa fa-check"></i><b>6.2</b> Lectura de encuesta.</a></li>
<li class="chapter" data-level="6.3" data-path="estimación-agregada.html"><a href="estimación-agregada.html"><i class="fa fa-check"></i><b>6.3</b> Estimación agregada</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="estimación-agregada.html"><a href="estimación-agregada.html#creación-de-objeto-diseno"><i class="fa fa-check"></i><b>6.3.1</b> Creación de objeto diseno</a></li>
<li class="chapter" data-level="6.3.2" data-path="estimación-agregada.html"><a href="estimación-agregada.html#estimación-del-indicador"><i class="fa fa-check"></i><b>6.3.2</b> Estimación del indicador</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="gráfica-de-validación.html"><a href="gráfica-de-validación.html"><i class="fa fa-check"></i><b>6.4</b> Gráfica de validación</a>
<ul>
<li class="chapter" data-level="" data-path="gráfica-de-validación.html"><a href="gráfica-de-validación.html#ocupado-1"><i class="fa fa-check"></i>Ocupado</a></li>
<li class="chapter" data-level="" data-path="gráfica-de-validación.html"><a href="gráfica-de-validación.html#desocupado-1"><i class="fa fa-check"></i>Desocupado</a></li>
<li class="chapter" data-level="" data-path="gráfica-de-validación.html"><a href="gráfica-de-validación.html#inactivo-1"><i class="fa fa-check"></i>Inactivo</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="mapas-de-resultados.html"><a href="mapas-de-resultados.html"><i class="fa fa-check"></i><b>7</b> Mapas de resultados</a>
<ul>
<li class="chapter" data-level="7.1" data-path="lectura-de-librerías-4.html"><a href="lectura-de-librerías-4.html"><i class="fa fa-check"></i><b>7.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="7.2" data-path="parametrizando-el-código-1.html"><a href="parametrizando-el-código-1.html"><i class="fa fa-check"></i><b>7.2</b> Parametrizando el código</a></li>
<li class="chapter" data-level="7.3" data-path="lectura-de-shapefile.html"><a href="lectura-de-shapefile.html"><i class="fa fa-check"></i><b>7.3</b> Lectura de shapefile</a></li>
<li class="chapter" data-level="7.4" data-path="definición-del-mapa-con-tmap.html"><a href="definición-del-mapa-con-tmap.html"><i class="fa fa-check"></i><b>7.4</b> Definición del mapa con <code>tmap</code></a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="definición-del-mapa-con-tmap.html"><a href="definición-del-mapa-con-tmap.html#creando-mapa-de-ocupados"><i class="fa fa-check"></i><b>7.4.1</b> Creando mapa de ocupados</a></li>
<li class="chapter" data-level="7.4.2" data-path="definición-del-mapa-con-tmap.html"><a href="definición-del-mapa-con-tmap.html#creando-mapa-de-desocupados"><i class="fa fa-check"></i><b>7.4.2</b> Creando mapa de desocupados</a></li>
<li class="chapter" data-level="7.4.3" data-path="definición-del-mapa-con-tmap.html"><a href="definición-del-mapa-con-tmap.html#creando-mapa-de-inactivo"><i class="fa fa-check"></i><b>7.4.3</b> Creando mapa de inactivo</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="país-colombia..html"><a href="país-colombia..html"><i class="fa fa-check"></i><b>8</b> País: Colombia.</a>
<ul>
<li class="chapter" data-level="8.1" data-path="lectura-de-la-encuesta-y-estimaciones-directas.html"><a href="lectura-de-la-encuesta-y-estimaciones-directas.html"><i class="fa fa-check"></i><b>8.1</b> Lectura de la encuesta y estimaciones directas</a></li>
<li class="chapter" data-level="8.2" data-path="selección-de-dominios.html"><a href="selección-de-dominios.html"><i class="fa fa-check"></i><b>8.2</b> Selección de dominios</a></li>
<li class="chapter" data-level="8.3" data-path="preparando-insumos-para-stan.html"><a href="preparando-insumos-para-stan.html"><i class="fa fa-check"></i><b>8.3</b> Preparando insumos para <code>STAN</code></a></li>
<li class="chapter" data-level="8.4" data-path="validación-del-modelo.html"><a href="validación-del-modelo.html"><i class="fa fa-check"></i><b>8.4</b> Validación del modelo</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="validación-del-modelo.html"><a href="validación-del-modelo.html#estimación-de-los-parámetros."><i class="fa fa-check"></i><b>8.4.1</b> Estimación de los parámetros.</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="metodología-de-benchmarking.html"><a href="metodología-de-benchmarking.html"><i class="fa fa-check"></i><b>8.5</b> Metodología de Benchmarking</a></li>
<li class="chapter" data-level="8.6" data-path="mapas-del-mercado-de-trabajo..html"><a href="mapas-del-mercado-de-trabajo..html"><i class="fa fa-check"></i><b>8.6</b> Mapas del mercado de trabajo.</a>
<ul>
<li class="chapter" data-level="" data-path="mapas-del-mercado-de-trabajo..html"><a href="mapas-del-mercado-de-trabajo..html#ocupado-3"><i class="fa fa-check"></i>Ocupado</a></li>
<li class="chapter" data-level="" data-path="mapas-del-mercado-de-trabajo..html"><a href="mapas-del-mercado-de-trabajo..html#desocupado-3"><i class="fa fa-check"></i>Desocupado</a></li>
<li class="chapter" data-level="" data-path="mapas-del-mercado-de-trabajo..html"><a href="mapas-del-mercado-de-trabajo..html#inactivo-3"><i class="fa fa-check"></i>Inactivo</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a Estimación de áreas pequeñas con el modelo multinomial </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estimación de áreas pequeñas con el modelo multinomial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="benchmarking" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Benchmarking<a href="benchmarking.html#benchmarking" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El código realiza una manipulación de datos para obtener las estimaciones del modelo de área ajustado. En primer lugar, se selecciona el primer y segundo dígito de la variable <code>dam2</code> para obtener la identificación de la <code>DAM</code>. Luego se utiliza la función <code>inner_join()</code> para combinar las estimaciones obtenidas del modelo con el conteo de la población por <code>DAM</code>, y así calcular los pesos de las <code>DAM</code>s. Estos pesos se almacenan en la variable <code>wi</code>. Finalmente, se seleccionan las variables de interés <code>dam</code>, <code>dam2</code>, <code>Ocupado_mod</code>, <code>Desocupado_mod</code> e <code>Inactivo_mod</code>, y se almacenan en la variable <code>estimaciones_mod</code>.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="benchmarking.html#cb77-1" aria-hidden="true" tabindex="-1"></a>names_cov <span class="ot">&lt;-</span>  <span class="st">&quot;dam&quot;</span> </span>
<span id="cb77-2"><a href="benchmarking.html#cb77-2" aria-hidden="true" tabindex="-1"></a>estimaciones_mod <span class="ot">&lt;-</span> estimaciones <span class="sc">%&gt;%</span> <span class="fu">transmute</span>(</span>
<span id="cb77-3"><a href="benchmarking.html#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">dam =</span> <span class="fu">substr</span>(dam2,<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb77-4"><a href="benchmarking.html#cb77-4" aria-hidden="true" tabindex="-1"></a>  dam2,Ocupado_mod,Desocupado_mod,Inactivo_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb77-5"><a href="benchmarking.html#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(conteo_pp_dam ) <span class="sc">%&gt;%</span> </span>
<span id="cb77-6"><a href="benchmarking.html#cb77-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wi =</span> pp_dam2<span class="sc">/</span>pp_dam)</span></code></pre></div>
<p>Los valores no suman 1 dado que se elimina la antartida.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="benchmarking.html#cb78-1" aria-hidden="true" tabindex="-1"></a>estimaciones_mod <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(dam) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">wi =</span> <span class="fu">sum</span>(wi))</span></code></pre></div>
<div id="seleccionado-variables" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Seleccionado variables<a href="benchmarking.html#seleccionado-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Este código utiliza la función <code>dummy_cols()</code> del paquete <code>fastDummies</code> para crear variables dummy a partir de la columna <code>dam</code>. La opción <code>select_columns = names_cov</code> indica que solo se aplicará la creación de variables dummy a la columna especificada en <code>names_cov</code> (en este caso, <code>dam</code>). La opción <code>remove_selected_columns = FALSE</code> indica que la columna original no será eliminada. El resultado final es que se agregan nuevas columnas al conjunto de datos, una por cada valor único en la columna <code>dam</code>, que indican si el valor está presente o no para cada fila.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="benchmarking.html#cb79-1" aria-hidden="true" tabindex="-1"></a>estimaciones_mod <span class="sc">%&lt;&gt;%</span></span>
<span id="cb79-2"><a href="benchmarking.html#cb79-2" aria-hidden="true" tabindex="-1"></a>  fastDummies<span class="sc">::</span><span class="fu">dummy_cols</span>(<span class="at">select_columns =</span> names_cov,</span>
<span id="cb79-3"><a href="benchmarking.html#cb79-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">remove_selected_columns =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</div>
<div id="creando-las-dummys" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Creando las dummys<a href="benchmarking.html#creando-las-dummys" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En este código se está creando una matriz de variables dummy para cada categoría de la variable <code>dam</code>, que en este caso es la división administrativa en la que se divide la muestra. Luego, se están multiplicando estas variables dummy por las estimaciones obtenidas del modelo en cada categoría de empleo ( <em>ocupado</em>, <em>desocupado</em> e <em>inactivo</em>) para cada dominio en la muestra. El resultado es una matriz de diseño que incluye tanto las variables dummy como las proporciones de empleo estimada.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="benchmarking.html#cb80-1" aria-hidden="true" tabindex="-1"></a>Xdummy <span class="ot">&lt;-</span> estimaciones_mod <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">&quot;dam_&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb80-2"><a href="benchmarking.html#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(<span class="fu">matches</span>(<span class="st">&quot;_</span><span class="sc">\\</span><span class="st">d&quot;</span>)) ,</span>
<span id="cb80-3"><a href="benchmarking.html#cb80-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">list</span>(<span class="at">Ocupado =</span> <span class="cf">function</span>(x) x<span class="sc">*</span>estimaciones_mod<span class="sc">$</span>Ocupado_mod,</span>
<span id="cb80-4"><a href="benchmarking.html#cb80-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">Desocupado =</span> <span class="cf">function</span>(x) x<span class="sc">*</span>estimaciones_mod<span class="sc">$</span>Desocupado_mod,</span>
<span id="cb80-5"><a href="benchmarking.html#cb80-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">Inactivo =</span> <span class="cf">function</span>(x) x<span class="sc">*</span>estimaciones_mod<span class="sc">$</span>Inactivo_mod)) <span class="sc">%&gt;%</span> </span>
<span id="cb80-6"><a href="benchmarking.html#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>((<span class="fu">matches</span>(<span class="st">&quot;Ocupado|Desocupado|Inactivo&quot;</span>)))</span></code></pre></div>
<p>ahora, se validan la concordancia de los nombre</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="benchmarking.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(Xdummy) <span class="sc">==</span> <span class="fu">names</span>(Razon_empleo)</span>
<span id="cb81-2"><a href="benchmarking.html#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">Modelo =</span> <span class="fu">colSums</span>(Xdummy<span class="sc">*</span>estimaciones_mod<span class="sc">$</span>wi),</span>
<span id="cb81-3"><a href="benchmarking.html#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="at">Estimacion_encuesta =</span> Razon_empleo)</span></code></pre></div>
<p>Separando los nombres por cada categoría del empleo</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="benchmarking.html#cb82-1" aria-hidden="true" tabindex="-1"></a>names_ocupado <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">&quot;_O&quot;</span>, <span class="at">x =</span> <span class="fu">colnames</span>(Xdummy),<span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb82-2"><a href="benchmarking.html#cb82-2" aria-hidden="true" tabindex="-1"></a>names_descupados <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">&quot;_D&quot;</span>, <span class="at">x =</span> <span class="fu">colnames</span>(Xdummy),<span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb82-3"><a href="benchmarking.html#cb82-3" aria-hidden="true" tabindex="-1"></a>names_inactivo <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">&quot;_I&quot;</span>, <span class="at">x =</span> <span class="fu">colnames</span>(Xdummy),<span class="at">value =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="obtenideno-los-ponderadores" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Obtenideno los ponderadores<a href="benchmarking.html#obtenideno-los-ponderadores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>El código siguiente realiza un ajuste de calibración para los datos de empleo utilizando la función <code>calib()</code> del paquete <code>sampling</code>. La función recibe como argumentos la matriz de variables dummy correspondientes a los dominios, la variable de peso muestral <code>d</code>, y la razón poblacional para la variable de interés ( <em>Ocupado</em>, <em>Desocupados</em> e <em>Inactivo</em>). Se utiliza el método de calibración lineal y se establece un máximo de iteraciones de 5000.</p>
<p>Posteriormente, se verifica la calidad del ajuste utilizando la función <code>checkcalibration()</code> del mismo paquete, la cual recibe como argumentos la matriz de variables dummy, la variable de peso muestral y la razón poblacional, junto con los resultados del ajuste previo gk_ocupado.</p>
<p>Finalmente, se utiliza la función <code>summary()</code> para imprimir un resumen de los resultados del ajuste de calibración, el cual incluye información sobre el número de iteraciones, la convergencia, y los valores de las constantes de calibración. Ahora, se ejecuta el proceso para cada una de las categorías por separado.</p>
<div id="ocupado" class="section level4 unnumbered hasAnchor">
<h4>Ocupado<a href="benchmarking.html#ocupado" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="benchmarking.html#cb83-1" aria-hidden="true" tabindex="-1"></a>gk_ocupado <span class="ot">&lt;-</span> <span class="fu">calib</span>(<span class="at">Xs =</span> Xdummy[,names_ocupado], </span>
<span id="cb83-2"><a href="benchmarking.html#cb83-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">d =</span>  estimaciones_mod<span class="sc">$</span>wi,</span>
<span id="cb83-3"><a href="benchmarking.html#cb83-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">total =</span> Razon_empleo[names_ocupado],</span>
<span id="cb83-4"><a href="benchmarking.html#cb83-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">method=</span><span class="st">&quot;linear&quot;</span>,<span class="at">max_iter =</span> <span class="dv">5000</span>,) </span>
<span id="cb83-5"><a href="benchmarking.html#cb83-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-6"><a href="benchmarking.html#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="fu">checkcalibration</span>(<span class="at">Xs =</span> Xdummy[,names_ocupado], </span>
<span id="cb83-7"><a href="benchmarking.html#cb83-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">d =</span>estimaciones_mod<span class="sc">$</span>wi,</span>
<span id="cb83-8"><a href="benchmarking.html#cb83-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">total =</span> Razon_empleo[names_ocupado],</span>
<span id="cb83-9"><a href="benchmarking.html#cb83-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">g =</span> gk_ocupado,)</span></code></pre></div>
</div>
<div id="desocupado" class="section level4 unnumbered hasAnchor">
<h4>Desocupado<a href="benchmarking.html#desocupado" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="benchmarking.html#cb84-1" aria-hidden="true" tabindex="-1"></a>gk_desocupado <span class="ot">&lt;-</span> <span class="fu">calib</span>(<span class="at">Xs =</span> Xdummy[,names_descupados], </span>
<span id="cb84-2"><a href="benchmarking.html#cb84-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">d =</span>  estimaciones_mod<span class="sc">$</span>wi,</span>
<span id="cb84-3"><a href="benchmarking.html#cb84-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">total =</span> Razon_empleo[names_descupados],</span>
<span id="cb84-4"><a href="benchmarking.html#cb84-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">method=</span><span class="st">&quot;linear&quot;</span>,<span class="at">max_iter =</span> <span class="dv">5000</span>,) </span>
<span id="cb84-5"><a href="benchmarking.html#cb84-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-6"><a href="benchmarking.html#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="fu">checkcalibration</span>(<span class="at">Xs =</span> Xdummy[,names_descupados], </span>
<span id="cb84-7"><a href="benchmarking.html#cb84-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">d =</span>estimaciones_mod<span class="sc">$</span>wi,</span>
<span id="cb84-8"><a href="benchmarking.html#cb84-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">total =</span> Razon_empleo[names_descupados],</span>
<span id="cb84-9"><a href="benchmarking.html#cb84-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">g =</span> gk_desocupado,)</span></code></pre></div>
</div>
<div id="inactivo" class="section level4 unnumbered hasAnchor">
<h4>Inactivo<a href="benchmarking.html#inactivo" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="benchmarking.html#cb85-1" aria-hidden="true" tabindex="-1"></a>gk_Inactivo <span class="ot">&lt;-</span> <span class="fu">calib</span>(<span class="at">Xs =</span> Xdummy[,names_inactivo], </span>
<span id="cb85-2"><a href="benchmarking.html#cb85-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">d =</span>  estimaciones_mod<span class="sc">$</span>wi,</span>
<span id="cb85-3"><a href="benchmarking.html#cb85-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">total =</span> Razon_empleo[names_inactivo],</span>
<span id="cb85-4"><a href="benchmarking.html#cb85-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">method=</span><span class="st">&quot;linear&quot;</span>,<span class="at">max_iter =</span> <span class="dv">5000</span>,) </span>
<span id="cb85-5"><a href="benchmarking.html#cb85-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-6"><a href="benchmarking.html#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="fu">checkcalibration</span>(<span class="at">Xs =</span> Xdummy[,names_inactivo], </span>
<span id="cb85-7"><a href="benchmarking.html#cb85-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">d =</span>estimaciones_mod<span class="sc">$</span>wi,</span>
<span id="cb85-8"><a href="benchmarking.html#cb85-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">total =</span> Razon_empleo[names_inactivo],</span>
<span id="cb85-9"><a href="benchmarking.html#cb85-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">g =</span> gk_Inactivo,)</span></code></pre></div>
<p>validando los <span class="math inline">\(gk\)</span>’s de forma visual.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="benchmarking.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb86-2"><a href="benchmarking.html#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(gk_ocupado)</span>
<span id="cb86-3"><a href="benchmarking.html#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(gk_desocupado)</span>
<span id="cb86-4"><a href="benchmarking.html#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(gk_Inactivo)</span></code></pre></div>
<p><img src="Rmd/CHL/Recursos/Plot_Bench_gk.jpeg" width="200%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="creando-las-estimaciones-benchmark" class="section level3 hasAnchor" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> Creando las estimaciones Benchmark<a href="benchmarking.html#creando-las-estimaciones-benchmark" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="benchmarking.html#cb87-1" aria-hidden="true" tabindex="-1"></a>estimacionesBench <span class="ot">&lt;-</span> estimaciones_mod <span class="sc">%&gt;%</span></span>
<span id="cb87-2"><a href="benchmarking.html#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(gk_ocupado, gk_desocupado, gk_Inactivo) <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="benchmarking.html#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb87-4"><a href="benchmarking.html#cb87-4" aria-hidden="true" tabindex="-1"></a>    dam,</span>
<span id="cb87-5"><a href="benchmarking.html#cb87-5" aria-hidden="true" tabindex="-1"></a>    dam2,</span>
<span id="cb87-6"><a href="benchmarking.html#cb87-6" aria-hidden="true" tabindex="-1"></a>    wi,gk_ocupado, gk_desocupado, gk_Inactivo,</span>
<span id="cb87-7"><a href="benchmarking.html#cb87-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ocupado_Bench =</span> Ocupado_mod<span class="sc">*</span>gk_ocupado,</span>
<span id="cb87-8"><a href="benchmarking.html#cb87-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Desocupado_Bench =</span> Desocupado_mod<span class="sc">*</span>gk_desocupado,</span>
<span id="cb87-9"><a href="benchmarking.html#cb87-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Inactivo_Bench =</span> Inactivo_mod<span class="sc">*</span>gk_Inactivo</span>
<span id="cb87-10"><a href="benchmarking.html#cb87-10" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb87-11"><a href="benchmarking.html#cb87-11" aria-hidden="true" tabindex="-1"></a><span class="do">#############################33</span></span></code></pre></div>
<p>Comparando resultados del Benchmarking</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="benchmarking.html#cb88-1" aria-hidden="true" tabindex="-1"></a>estimacionesBench <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a href="benchmarking.html#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(dam) <span class="sc">%&gt;%</span> </span>
<span id="cb88-3"><a href="benchmarking.html#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Ocupado_Bench =</span> <span class="fu">sum</span>(wi<span class="sc">*</span>Ocupado_Bench),</span>
<span id="cb88-4"><a href="benchmarking.html#cb88-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">Desocupado_Bench =</span> <span class="fu">sum</span>(wi<span class="sc">*</span>Desocupado_Bench),</span>
<span id="cb88-5"><a href="benchmarking.html#cb88-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">Inactivo_Bench =</span> <span class="fu">sum</span>(wi<span class="sc">*</span>Inactivo_Bench)) <span class="sc">%&gt;%</span> </span>
<span id="cb88-6"><a href="benchmarking.html#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(indicador_agregado)</span></code></pre></div>
<table class="table table-striped lightable-classic" style="width: auto !important; margin-left: auto; margin-right: auto; font-family: Arial Narrow; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
dam
</th>
<th style="text-align:right;">
Ocupado_Bench
</th>
<th style="text-align:right;">
Desocupado_Bench
</th>
<th style="text-align:right;">
Inactivo_Bench
</th>
<th style="text-align:right;">
Ocupado
</th>
<th style="text-align:right;">
Desocupado
</th>
<th style="text-align:right;">
Inactivo
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:right;">
0.5849
</td>
<td style="text-align:right;">
0.0487
</td>
<td style="text-align:right;">
0.3665
</td>
<td style="text-align:right;">
0.5849
</td>
<td style="text-align:right;">
0.0487
</td>
<td style="text-align:right;">
0.3665
</td>
</tr>
<tr>
<td style="text-align:left;">
02
</td>
<td style="text-align:right;">
0.5561
</td>
<td style="text-align:right;">
0.0556
</td>
<td style="text-align:right;">
0.3882
</td>
<td style="text-align:right;">
0.5561
</td>
<td style="text-align:right;">
0.0556
</td>
<td style="text-align:right;">
0.3882
</td>
</tr>
<tr>
<td style="text-align:left;">
03
</td>
<td style="text-align:right;">
0.5246
</td>
<td style="text-align:right;">
0.0532
</td>
<td style="text-align:right;">
0.4222
</td>
<td style="text-align:right;">
0.5246
</td>
<td style="text-align:right;">
0.0532
</td>
<td style="text-align:right;">
0.4222
</td>
</tr>
<tr>
<td style="text-align:left;">
04
</td>
<td style="text-align:right;">
0.4697
</td>
<td style="text-align:right;">
0.0640
</td>
<td style="text-align:right;">
0.4663
</td>
<td style="text-align:right;">
0.4697
</td>
<td style="text-align:right;">
0.0640
</td>
<td style="text-align:right;">
0.4663
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:right;">
0.5176
</td>
<td style="text-align:right;">
0.0562
</td>
<td style="text-align:right;">
0.4262
</td>
<td style="text-align:right;">
0.5176
</td>
<td style="text-align:right;">
0.0562
</td>
<td style="text-align:right;">
0.4262
</td>
</tr>
<tr>
<td style="text-align:left;">
06
</td>
<td style="text-align:right;">
0.5235
</td>
<td style="text-align:right;">
0.0411
</td>
<td style="text-align:right;">
0.4354
</td>
<td style="text-align:right;">
0.5235
</td>
<td style="text-align:right;">
0.0411
</td>
<td style="text-align:right;">
0.4354
</td>
</tr>
<tr>
<td style="text-align:left;">
07
</td>
<td style="text-align:right;">
0.5144
</td>
<td style="text-align:right;">
0.0387
</td>
<td style="text-align:right;">
0.4469
</td>
<td style="text-align:right;">
0.5144
</td>
<td style="text-align:right;">
0.0387
</td>
<td style="text-align:right;">
0.4469
</td>
</tr>
<tr>
<td style="text-align:left;">
08
</td>
<td style="text-align:right;">
0.4771
</td>
<td style="text-align:right;">
0.0601
</td>
<td style="text-align:right;">
0.4629
</td>
<td style="text-align:right;">
0.4771
</td>
<td style="text-align:right;">
0.0601
</td>
<td style="text-align:right;">
0.4629
</td>
</tr>
<tr>
<td style="text-align:left;">
09
</td>
<td style="text-align:right;">
0.4903
</td>
<td style="text-align:right;">
0.0501
</td>
<td style="text-align:right;">
0.4596
</td>
<td style="text-align:right;">
0.4903
</td>
<td style="text-align:right;">
0.0501
</td>
<td style="text-align:right;">
0.4596
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:right;">
0.5323
</td>
<td style="text-align:right;">
0.0411
</td>
<td style="text-align:right;">
0.4266
</td>
<td style="text-align:right;">
0.5323
</td>
<td style="text-align:right;">
0.0411
</td>
<td style="text-align:right;">
0.4266
</td>
</tr>
<tr>
<td style="text-align:left;">
11
</td>
<td style="text-align:right;">
0.6180
</td>
<td style="text-align:right;">
0.0326
</td>
<td style="text-align:right;">
0.3494
</td>
<td style="text-align:right;">
0.6180
</td>
<td style="text-align:right;">
0.0326
</td>
<td style="text-align:right;">
0.3494
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:right;">
0.5923
</td>
<td style="text-align:right;">
0.0376
</td>
<td style="text-align:right;">
0.3701
</td>
<td style="text-align:right;">
0.5923
</td>
<td style="text-align:right;">
0.0376
</td>
<td style="text-align:right;">
0.3701
</td>
</tr>
<tr>
<td style="text-align:left;">
13
</td>
<td style="text-align:right;">
0.6040
</td>
<td style="text-align:right;">
0.0528
</td>
<td style="text-align:right;">
0.3432
</td>
<td style="text-align:right;">
0.6040
</td>
<td style="text-align:right;">
0.0528
</td>
<td style="text-align:right;">
0.3432
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:right;">
0.5060
</td>
<td style="text-align:right;">
0.0479
</td>
<td style="text-align:right;">
0.4461
</td>
<td style="text-align:right;">
0.5060
</td>
<td style="text-align:right;">
0.0479
</td>
<td style="text-align:right;">
0.4461
</td>
</tr>
<tr>
<td style="text-align:left;">
15
</td>
<td style="text-align:right;">
0.5100
</td>
<td style="text-align:right;">
0.0676
</td>
<td style="text-align:right;">
0.4224
</td>
<td style="text-align:right;">
0.5100
</td>
<td style="text-align:right;">
0.0676
</td>
<td style="text-align:right;">
0.4224
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:right;">
0.5023
</td>
<td style="text-align:right;">
0.0437
</td>
<td style="text-align:right;">
0.4540
</td>
<td style="text-align:right;">
0.5023
</td>
<td style="text-align:right;">
0.0437
</td>
<td style="text-align:right;">
0.4540
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="benchmarking.html#cb89-1" aria-hidden="true" tabindex="-1"></a>estimaciones <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(estimaciones,estimacionesBench)</span></code></pre></div>
<p>Ordenando la base con las estimaciones directas y predichas</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="benchmarking.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(<span class="at">object =</span> estimaciones, <span class="at">file =</span> out_estimacion)</span></code></pre></div>

<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="benchmarking.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb91-2"><a href="benchmarking.html#cb91-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">warning =</span> <span class="cn">FALSE</span>, </span>
<span id="cb91-3"><a href="benchmarking.html#cb91-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">message =</span> <span class="cn">FALSE</span>,</span>
<span id="cb91-4"><a href="benchmarking.html#cb91-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cache =</span> <span class="cn">TRUE</span>)</span>
<span id="cb91-5"><a href="benchmarking.html#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb91-6"><a href="benchmarking.html#cb91-6" aria-hidden="true" tabindex="-1"></a>tba <span class="ot">&lt;-</span> <span class="cf">function</span>(dat, <span class="at">cap =</span> <span class="cn">NA</span>){</span>
<span id="cb91-7"><a href="benchmarking.html#cb91-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(dat,</span>
<span id="cb91-8"><a href="benchmarking.html#cb91-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">format =</span> <span class="st">&quot;html&quot;</span>, <span class="at">digits =</span>  <span class="dv">4</span>,</span>
<span id="cb91-9"><a href="benchmarking.html#cb91-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> cap) <span class="sc">%&gt;%</span> </span>
<span id="cb91-10"><a href="benchmarking.html#cb91-10" aria-hidden="true" tabindex="-1"></a>     <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">&quot;striped&quot;</span>, <span class="at">full_width =</span> F)<span class="sc">%&gt;%</span></span>
<span id="cb91-11"><a href="benchmarking.html#cb91-11" aria-hidden="true" tabindex="-1"></a>         <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">&quot;Arial Narrow&quot;</span>)</span>
<span id="cb91-12"><a href="benchmarking.html#cb91-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="lectura-de-las-bases-de-datos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="validación-visual-del-benchmark.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/psirusteam/SAEMultinomialMercadoLaboral/Rmd/CHL/05-Benchmarking.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Estimación de áreas pequeñas con el modelo multinomial.pdf", "Estimación de áreas pequeñas con el modelo multinomial.epub", "Estimación de áreas pequeñas con el modelo multinomial.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"tconfig": null
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
